<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thank You</title>

<style>
/* Popup background */
.scratch-popup {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.65);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

/* Popup box */
.scratch-popup-content {
  background: #fff;
  padding: 25px;
  border-radius: 15px;
  text-align: center;
  width: 90%;
  max-width: 380px;
  box-shadow: 0 0 20px rgba(0,0,0,0.3);
}

/* Scratch area container */
.scratch-card-container {
  position: relative;
  width: 300px;
  margin: auto;
}

/* Prize text under scratch layer */
.prize-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 26px;
  font-weight: bold;
  color: #2b9a2b;
}

/* Close button */
.close-btn {
  margin-top: 20px;
  background: #0070d2;
  padding: 10px 20px;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.close-btn:hover {
  background: #005bb5;
}

body {
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 50px;
}
</style>
</head>

<body>

<h1>Thank You!</h1>
<p>Your response has been submitted successfully.</p>

<!-- Scratch Card Popup -->
<div id="scratchPopup" class="scratch-popup">
  <div class="scratch-popup-content">
    <h2>Congratulations!</h2>
    <p>Scratch the card to reveal your cash prize ðŸŽ‰</p>

    <div class="scratch-card-container">
      <canvas id="scratchCanvas" width="300" height="150"></canvas>
      <div id="prizeText" class="prize-text">â‚¹<span id="prizeAmount"></span> Cash Prize</div>
    </div>

    <button onclick="closeScratchPopup()" class="close-btn">Close</button>
  </div>
</div>

<script>
// When page loads â†’ open scratch popup
window.onload = function () {
    openScratchPopup();
};

// Open popup + random prize
function openScratchPopup() {
    document.getElementById("scratchPopup").style.display = "flex";

    const prizes = [50, 75, 100, 150, 200, 250, 500];
    const prize = prizes[Math.floor(Math.random() * prizes.length)];
    document.getElementById("prizeAmount").innerText = prize;

    initScratchCard();
}

function closeScratchPopup() {
    document.getElementById("scratchPopup").style.display = "none";
}

// Draw scratch layer + erase on touch/mouse
function initScratchCard() {
    const canvas = document.getElementById("scratchCanvas");
    const ctx = canvas.getContext("2d");

    ctx.fillStyle = "#C0C0C0";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    let scratching = false;

    function getPos(e) {
        const rect = canvas.getBoundingClientRect();
        return {
            x: (e.touches ? e.touches[0].clientX : e.clientX) - rect.left,
            y: (e.touches ? e.touches[0].clientY : e.clientY) - rect.top
        };
    }

    function scratch(e) {
        if (!scratching) return;
        const pos = getPos(e);

        ctx.globalCompositeOperation = "destination-out";
        ctx.beginPath();
        ctx.arc(pos.x, pos.y, 20, 0, Math.PI * 2);
        ctx.fill();
    }

    canvas.addEventListener("mousedown", () => scratching = true);
    canvas.addEventListener("mouseup", () => scratching = false);
    canvas.addEventListener("mousemove", scratch);

    canvas.addEventListener("touchstart", () => scratching = true);
    canvas.addEventListener("touchend", () => scratching = false);
    canvas.addEventListener("touchmove", scratch);
}
</script>

</body>
</html>
